<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Site Yönetim Paneli</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f9; display: flex; justify-content: center; padding: 50px; }
        .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); width: 350px; }
        input { width: 90%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; }
        button { width: 100%; padding: 10px; background: #2ecc71; color: white; border: none; cursor: pointer; }
        table { width: 100%; margin-top: 20px; border-collapse: collapse; }
        table td { padding: 10px; border-bottom: 1px solid #eee; }
        .borc { color: red; font-weight: bold; }
    </style>
</head>
<body>

<div id="login-box" class="card">
    <h2>Daire Girişi</h2>
    <input type="text" id="user" placeholder="Daire Kullanıcı Adı">
    <input type="password" id="pass" placeholder="Şifre">
    <button onclick="girisYap()">Sorgula</button>
</div>

<div id="panel" class="card" style="display:none; width: 500px;">
    <h2>Sayın <span id="kisi"></span></h2>
    <p><strong>Daire No:</strong> <span id="dno"></span></p>
    
    <table>
        <tr><td>Aidat Borcu:</td><td class="borc" id="aidat"></td></tr>
        <tr><td>Yakıt Borcu:</td><td class="borc" id="yakit"></td></tr>
        <tr><td>Diğer Borçlar:</td><td class="borc" id="diger"></td></tr>
        <tr><td>Yönetim Notu:</td><td id="yonetim-notu"></td></tr>
    </table>
    
    <button onclick="location.reload()" style="background:#e74c3c; margin-top:20px;">Çıkış Yap</button>
</div>

<script>
async function girisYap() {
    const u = document.getElementById('user').value;
    const p = document.getElementById('pass').value;

    try {
        const response = await fetch('veriler.json');
        const data = await response.json();
        const daire = data.daireler.find(d => d.username === u && d.password === p);

        if (daire) {
            document.getElementById('login-box').style.display = 'none';
            document.getElementById('panel').style.display = 'block';
            
            document.getElementById('kisi').innerText = daire.sahibi;
            document.getElementById('dno').innerText = daire.daireNo;
            document.getElementById('aidat').innerText = daire.aidatBorcu;
            document.getElementById('yakit').innerText = daire.yakitBorcu;
            document.getElementById('diger').innerText = daire.digerBorc;
            document.getElementById('yonetim-notu').innerText = daire.not;
        } else {
            alert("Hatalı giriş! Lütfen bilgilerinizi kontrol edin.");
        }
    } catch (e) {
        alert("Veri dosyası yüklenemedi!");
    }
}
</script>
</body>
</html>